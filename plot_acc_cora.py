import numpy as np
import pandas as pd
import os
import matplotlib.pyplot as plt
from scipy.ndimage import gaussian_filter1d
from matplotlib import rcParams

config = {
    "font.family":'Times New Roman',  # Set the font type
    "axes.unicode_minus": False, # Solve the problem that the negative sign cannot be displayed
    'font.size': 16
}
rcParams.update(config)



y2=[0.356549,0.46879029,0.54619348,0.61775128,0.67317891,0.70756343
,0.72795703,0.7403775,0.75085216,0.75845042,0.76271605,0.76521914
,0.76920819,0.77337812,0.77569517,0.77680628,0.77606502,0.77754702
,0.77921678,0.7794949,0.78199748,0.78209162,0.78125692,0.78320274
,0.78329413,0.78431264,0.78394279,0.7839433,0.78329343,0.78375794
,0.78329498,0.78440747,0.78542634,0.78421971,0.78477595,0.78709368
,0.78681608,0.78774114,0.78727767,0.78709162,0.786998,0.78783305
,0.78959454,0.78913055,0.78977922,0.79005802,0.78931505,0.79015045
,0.7909843,0.79265268,0.79126345,0.79135638,0.792283,0.79246853
,0.79209816,0.79256198,0.79228437,0.79200659,0.79302666,0.79321115
,0.79256026,0.79423208,0.79395344,0.79385999,0.79497196,0.79496938
,0.79404414,0.7943221,0.7952506,0.79608497,0.79552941,0.79515904
,0.79441847,0.7950661,0.79469642,0.79515801,0.79515904,0.79701038
,0.79664138,0.79766008,0.79775181,0.79886532,0.79673294,0.79636291
,0.79525215,0.79469298,0.795622,0.79552907,0.79645465,0.79599065
,0.79765818,0.79886429,0.79840305,0.79766093,0.79682811,0.79784663
,0.79729039,0.79765887,0.79784491,0.7968245,0.79571013,0.79673036
,0.79682794,0.79905033,0.79821477,0.7972878,0.79877221,0.79868031
,0.79942088,0.79738246,0.79626981,0.79636154,0.79673294,0.79905136
,0.79682605,0.7973835,0.79812613,0.79877496,0.80016471,0.79970037
,0.79988676,0.79932931,0.79960727,0.79877135,0.79802975,0.79923415
,0.79747488,0.79728867,0.79793407,0.79784096,0.79775043,0.79867653
,0.79951278,0.79942019,0.79969917,0.80127445,0.80173621,0.80006662
,0.79877136,0.79988212,0.79960503,0.79812217,0.79830615,0.79636171
,0.79700986,0.79756662,0.79793699,0.79904965,0.80025645,0.8001642
,0.79849495,0.79849616,0.79784852,0.79951158,0.80025146,0.79932502
,0.80043819,0.80136636,0.80034715,0.79923535,0.80081045,0.80081234
,0.80062733,0.80034732,0.80025421,0.79858857,0.80007178,0.80016574
,0.80118477,0.80229743,0.80220518,0.80248331,0.80174102,0.80164912
,0.80025541,0.80044318,0.80266454,0.80108995,0.80044283,0.80109029
,0.80081475,0.79942414,0.79923861,0.79710572,0.79803044,0.79756816
,0.79858668,0.79803233,0.79951501,0.8000716,0.80173792,0.80210933
,0.80081389,0.80072061,0.79961018,0.80090923,0.80016471,0.80071992
,0.80238641,0.80044266]

y3=[0.39796777,0.49734069,0.58356133,0.65272673,0.70036989,0.73299655
,0.75997437,0.77610852,0.78798136,0.79771872,0.801984,0.80578683
,0.80967968,0.81329389,0.81357236,0.81514884,0.81653739,0.81663205
,0.81774436,0.81746538,0.8177423,0.81848734,0.81765005,0.81746487
,0.81672413,0.81672275,0.81737073,0.8182063,0.81700174,0.81607461
,0.81551854,0.8153318,0.8156996,0.81579288,0.8148642,0.81542113
,0.81375206,0.81375395,0.81301251,0.81338168,0.81329029,0.81319546
,0.81504955,0.81421519,0.81430693,0.81430761,0.81180365,0.81208126
,0.81449159,0.81263888,0.81430847,0.81393758,0.8139381,0.81282492
,0.81458573,0.81449451,0.81467935,0.81495816,0.8135667,0.81505265
,0.81486626,0.81356618,0.81486488,0.81421845,0.8143095,0.81449503
,0.8129201,0.81162242,0.81254698,0.81208384,0.81291614,0.8120792
,0.81152571,0.81124999,0.81097204,0.81115585,0.81365843,0.81310373
,0.8119928,0.81022889,0.8102289,0.80995094,0.80921106,0.81013768
,0.81134379,0.81189883,0.81180572,0.81199022,0.81227195,0.80958418
,0.8109741,0.81060236,0.8114369,0.81162397,0.80995232,0.80967626
,0.81060288,0.81004577,0.81060218,0.81069409,0.81106394,0.81069478
,0.81125033,0.80893449,0.81013991,0.81041769,0.8103239,0.80911727
,0.80995336,0.80976817,0.80902553,0.80884293,0.80726679,0.81060167
,0.81023096,0.81050908,0.81041734,0.81069564,0.80949331,0.81069839
,0.81060287,0.81051011,0.81004835,0.81013957,0.81060425,0.8084741
,0.80819357,0.80921244,0.80902468,0.80883931,0.80865791,0.80856394
,0.81023233,0.81050994,0.80949107,0.80958195,0.8091195,0.80939814
,0.80921398,0.80921433,0.80949193,0.80976902,0.80837755,0.8071723
,0.80782338,0.80865705,0.81004646,0.80847307,0.80819306,0.80949056
,0.81087876,0.80837824,0.8079158,0.8093978,0.80902605,0.80819341
,0.80912054,0.80986317,0.8102301,0.81032269,0.80902484,0.80782389
,0.80828651,0.80875222,0.80772752,0.80800805,0.80745043,0.80884001
,0.80837601,0.8081922,0.80791459,0.80847083,0.80837704,0.80893552
,0.80847239,0.80800667,0.80782063,0.80856292,0.80791253,0.80791408
,0.80883914,0.80837704,0.8060624,0.80698953,0.80782252,0.80754165
,0.80856377,0.80782355,0.80689539,0.80670882,0.80698643,0.80763699
,0.80735784,0.80689607,0.8065233,0.80865551,0.80837773,0.80726335
,0.80754268,0.80661727]

y4=[0.4137149,0.47303365,0.53117518,0.60433771,0.66191131,0.70389618
,0.73050602,0.75229108,0.76796537,0.77918421,0.78808325,0.79624121
,0.80319442,0.80977675,0.81218537,0.8155206,0.81793111,0.82163825
,0.82349114,0.82358338,0.82330647,0.82367563,0.82506607,0.82451
,0.82543833,0.82497417,0.82608613,0.82580612,0.82395341,0.8246957
,0.82488243,0.82441861,0.8235851,0.82367649,0.82358321,0.82376874
,0.82265522,0.82395118,0.82358356,0.82348976,0.82348701,0.82311647
,0.82200398,0.82274627,0.82200501,0.82144998,0.82219055,0.82172689
,0.8215436,0.82089322,0.82117151,0.82247021,0.82071009,0.82043128
,0.81987332,0.81922517,0.81913447,0.82052388,0.82070872,0.82015247
,0.82006091,0.82108166,0.82052507,0.82126427,0.82061767,0.82135721
,0.82015178,0.81940812,0.81857392,0.81931587,0.81866944,0.81922585
,0.81737314,0.81774214,0.82005953,0.81950432,0.818856,0.81709245
,0.81783387,0.81839183,0.81829614,0.81876083,0.8180182,0.81903913
,0.81912931,0.81922706,0.8186715,0.81839097,0.8191324,0.81820475
,0.81783542,0.81913257,0.81904067,0.81848477,0.81653878,0.81774214
,0.8168169,0.81690863,0.81690846,0.81561147,0.81607289,0.81542354
,0.8158865,0.815053,0.81468005,0.81477436,0.81505316,0.81607203
,0.81598064,0.81579562,0.81524007,0.81542543,0.81440657,0.81523886
,0.81431259,0.8137579,0.81449813,0.8136629,0.81421914,0.81292233
,0.81384997,0.81440502,0.8130163,0.81421897,0.81384757,0.81468297
,0.81496092,0.81366341,0.81282888,0.81403362,0.81273715,0.81255179
,0.81421914,0.81421966,0.81356961,0.81255196,0.81208779,0.81180985
,0.81180933,0.81329184,0.81412586,0.81292284,0.81347685,0.81356893
,0.81431053,0.8132927,0.8133865,0.81394308,0.81357013,0.81227298
,0.81375669,0.81209003,0.81134533,0.81023353,0.81116118,0.81116118
,0.81079064,0.81208951,0.81051389,0.81106842,0.81394377,0.81144085
,0.81310786,0.8132946,0.81403396,0.81190175,0.81255093,0.81051252
,0.81097497,0.81208745,0.81199589,0.81060304,0.81208573,0.81292044
,0.81292079,0.81218056,0.81106945,0.81125514,0.81042078,0.81014129
,0.80837945,0.81023525,0.80903086,0.80912397,0.8086605,0.80986282
,0.80949211,0.80986041,0.80911813,0.80976817,0.80884104,0.81041941
,0.80875033,0.80884413,0.81069736,0.81051217,0.81106893,0.81041855
,0.81004612,0.80810013]


if __name__ == '__main__':

    # plt.rcParams['font.sans-serif'] = [u'SimSun']
    # plt.rcParams['axes.unicode_minus'] = False
    # plt.rcParams['font.size'] = 14

    row_x = []
    for i in range(len(y2)):
        row_x.append(i)
    plt.plot(row_x, y2, label='FedSage+', ls='-.',c='#ff7f0e')

    row_x = []
    for i in range(len(y3)):
        row_x.append(i)
    plt.plot(row_x, y3, label='FedGCN(2hop)', ls='--',c='#2ca02c')

    row_x = []
    for i in range(len(y4)):
        row_x.append(i)
    plt.plot(row_x, y4, label='FedHGN with HC', ls='-', c='#1f77b4')

    plt.ylim(0.6, 0.85)
    plt.xlim(0, 100)
    plt.legend(loc='lower right')
    plt.ylabel('Test Accuracy(%)')
    plt.xlabel('Communication Rounds')
    # plt.ylabel('故障分类准确率(%)')
    # plt.xlabel('训练迭代周期')
    plt.tick_params(axis='x', which='both', bottom=False)
    plt.rcParams['savefig.dpi'] = 300 # Image pixels
    plt.show()
