import numpy as np
import pandas as pd
import os
import matplotlib.pyplot as plt
from scipy.ndimage import gaussian_filter1d
from matplotlib import rcParams

config = {
    "font.family":'Times New Roman',  # Set the font type
    "axes.unicode_minus": False, # Solve the problem that the negative sign cannot be displayed
    'font.size': 16
}
rcParams.update(config)


y2=[1.41472835,0.91905888,0.60503574,0.41579022,0.28678224,0.20084671
,0.15421887,0.11187486,0.0915033,0.07953239,0.06356195,0.05740407
,0.0537738,0.04834225,0.04381592,0.0426526,0.03742873,0.03636164
,0.03350589,0.03286904,0.03276812,0.03327953,0.03121358,0.02997429
,0.02888896,0.02996646,0.0277541,0.02611949,0.02704894,0.02625615
,0.02745359,0.02584981,0.0246699,0.02575467,0.02554246,0.02421944
,0.02483374,0.02198606,0.02254158,0.02557777,0.02428213,0.02211477
,0.02399731,0.02187777,0.02321346,0.02209626,0.02121908,0.02157043
,0.02236752,0.02412815,0.02204255,0.02195063,0.02295172,0.0202931
,0.02310415,0.01880248,0.02101408,0.01999586,0.0210359,0.02015746
,0.01975292,0.01978622,0.01947601,0.01834035,0.01837836,0.01980657
,0.01843138,0.01765141,0.01811361,0.01959874,0.01803416,0.01682051
,0.01724116,0.01763607,0.01924046,0.01704876,0.01725606,0.01913718
,0.01890521,0.01717981,0.01599916,0.01658971,0.01869742,0.01763601
,0.01709206,0.01687522,0.01503299,0.01768053,0.0158745,0.01675872
,0.01613376,0.01667312,0.01675065,0.01666915,0.01519692,0.01565403
,0.01706732,0.01551156,0.01479766,0.01449823,0.01528847,0.01755291
,0.01548525,0.0153062,0.01509122,0.01701012,0.01566663,0.01528259
,0.01629643,0.01491877,0.01599351,0.01728596,0.01536299,0.01498381
,0.01509521,0.01543247,0.01405517,0.01511904,0.01390672,0.0145614
,0.01511374,0.01376662,0.01525447,0.01412903,0.01402945,0.01325929
,0.01319624,0.01227824,0.01325973,0.01334556,0.01495204,0.01536233
,0.01562214,0.01283844,0.01413846,0.01348288,0.01567311,0.01421747
,0.01327007,0.01397562,0.0139309,0.01489123,0.01443663,0.01310587
,0.01320452,0.01257839,0.01332294,0.01280478,0.0136639,0.01213451
,0.01220674,0.01489448,0.01399137,0.0126696,0.01391971,0.01424569
,0.0143438,0.01299395,0.0145355,0.01325786,0.01204091,0.01385996
,0.01133041,0.01171448,0.0139681,0.01387914,0.01370587,0.01316729
,0.01233382,0.01278441,0.01213371,0.01358538,0.01404573,0.01353132
,0.01104501,0.01276387,0.01282513,0.01245014,0.01236928,0.01289605
,0.01207438,0.01199078,0.01300865,0.01329225,0.01271919,0.01373035
,0.01054076,0.01398964,0.01281256,0.01182392,0.01286293,0.01137954
,0.01338596,0.01391159,0.01250082,0.0119285,0.01266042,0.01273451
,0.01367796,0.01489227]

y3=[1.66690101,1.38112833,1.12868068,0.92140765,0.75632122,0.6156095
,0.51933343,0.43658915,0.36760077,0.32181734,0.27763981,0.24702024
,0.22014082,0.20396815,0.18568853,0.17214188,0.16716607,0.15364591
,0.14537351,0.13848972,0.12894489,0.1292064,0.12338746,0.11758794
,0.11928882,0.11073892,0.10807833,0.10381801,0.10350286,0.10106474
,0.09978001,0.09447314,0.09310905,0.08718083,0.08863264,0.08733843
,0.0833225,0.08554836,0.08266777,0.08195664,0.08195323,0.0786644
,0.07985183,0.07467439,0.07468369,0.07224812,0.07224302,0.07098272
,0.06643608,0.06797178,0.06583178,0.06608645,0.06679055,0.06578718
,0.06663654,0.06497976,0.06239198,0.06314446,0.06314623,0.06016138
,0.06132772,0.06076175,0.06144717,0.06073668,0.05621087,0.05653501
,0.05887783,0.05957763,0.05893012,0.05561678,0.05779828,0.05985392
,0.05185132,0.05503176,0.05410167,0.05581644,0.05348546,0.05578686
,0.0520647,0.05135955,0.04948279,0.0514342,0.05173448,0.04947331
,0.04957147,0.04991792,0.04855863,0.04917579,0.04833874,0.04708128
,0.04931215,0.04728316,0.04808319,0.04971872,0.04697478,0.04512289
,0.04827872,0.04817374,0.04728708,0.04640136,0.04711711,0.04537729
,0.04604189,0.04552121,0.04717054,0.0459764,0.04449035,0.04431882
,0.04343505,0.04425636,0.04454492,0.04587154,0.04489939,0.04335933
,0.04518717,0.04402116,0.04292277,0.04342868,0.04294886,0.04121868
,0.04367293,0.04368884,0.04307306,0.04312833,0.04127545,0.04337774
,0.04442855,0.04121492,0.04019024,0.0409731,0.04283863,0.04221444
,0.04035116,0.04301351,0.03969589,0.04105613,0.04003049,0.03988708
,0.04102497,0.04095143,0.03833366,0.04034212,0.0401719,0.03790891
,0.038221,0.04041219,0.03801744,0.03673506,0.04034514,0.03712395
,0.03822512,0.03804371,0.03882249,0.03789902,0.03836457,0.03842163
,0.03710136,0.03743594,0.03672789,0.03592705,0.03607202,0.03987579
,0.0369942,0.03830409,0.03853588,0.03893132,0.03730618,0.03801075
,0.03637972,0.03512743,0.03908785,0.03810889,0.03723697,0.039151
,0.03680342,0.03508746,0.03456023,0.03558339,0.03475053,0.03506145
,0.03480113,0.03752544,0.03797693,0.03439984,0.03423634,0.03773582
,0.03649261,0.03581805,0.03530922,0.03373377,0.03408871,0.03734017
,0.03469654,0.03566386,0.03641157,0.03720464,0.03989864,0.035561
,0.03599519,0.03344877]

y4=[1.8126986,1.64010242,1.47298031,1.30533201,1.15577418,1.00712499
,0.88998969,0.78569531,0.69919648,0.62331861,0.56516909,0.51981443
,0.47262953,0.44349912,0.40324699,0.38476064,0.36340374,0.33801835
,0.31636418,0.30678811,0.29109953,0.2788194,0.26871121,0.2702139
,0.25859129,0.24390331,0.23785607,0.22769929,0.22356583,0.2221948
,0.2164585,0.21213204,0.20805783,0.20209905,0.19364769,0.18961103
,0.18714548,0.18726039,0.18105923,0.17613944,0.17658309,0.16820545
,0.16914724,0.16241723,0.16130044,0.16302589,0.15744557,0.15895079
,0.15899861,0.15174444,0.14924142,0.1528128,0.1516699,0.1454043
,0.14329211,0.14624072,0.13916861,0.13853922,0.13583832,0.13639029
,0.13142991,0.13521861,0.13332624,0.13144392,0.1265008,0.12846059
,0.12463592,0.12286296,0.12555291,0.12664146,0.12469121,0.12269144
,0.12235694,0.12240174,0.11668825,0.11643653,0.11771157,0.11894051
,0.11564348,0.11198344,0.11378628,0.11223651,0.10763223,0.11273369
,0.11509482,0.1093736,0.11571734,0.10479542,0.11121884,0.11249059
,0.10341963,0.11013642,0.10738143,0.10564888,0.10871791,0.10523897
,0.10501016,0.10654309,0.10881934,0.1022685,0.10077391,0.1007613
,0.10055276,0.10276599,0.10101496,0.10409059,0.10130368,0.09567689
,0.09693323,0.098548,0.10021552,0.0975337,0.09430195,0.09545443
,0.10018812,0.0951113,0.09649053,0.09249473,0.09196046,0.09611763
,0.09191328,0.09839232,0.09624031,0.09391118,0.09204678,0.09466286
,0.09031834,0.09234027,0.09588911,0.09308795,0.0885456,0.09475781
,0.09431024,0.09099012,0.09205436,0.08895136,0.08709763,0.09255883
,0.08986115,0.08773053,0.08742053,0.08303879,0.08834464,0.08545806
,0.08683892,0.08607676,0.08902737,0.08615983,0.09144826,0.08231501
,0.0870892,0.08394861,0.08366455,0.08733482,0.08704237,0.08285689
,0.08372225,0.08196557,0.08226667,0.08402142,0.08008445,0.0827542
,0.08575744,0.08453108,0.08604392,0.08314567,0.08450782,0.08167784
,0.08397105,0.07841979,0.0837993,0.07847842,0.08076631,0.08132572
,0.08044731,0.07982857,0.0785238,0.07995128,0.08155523,0.0812326
,0.08491409,0.07517816,0.08476176,0.07939471,0.0757761,0.08493651
,0.08057155,0.08069511,0.07987873,0.07603652,0.08041375,0.07883522
,0.08458823,0.07722652,0.08146307,0.07821686,0.07987125,0.08123489
,0.07668154,0.07903055]



if __name__ == '__main__':

    # plt.rcParams['font.sans-serif'] = [u'SimSun']
    # plt.rcParams['axes.unicode_minus'] = False
    # plt.rcParams['font.size'] = 14

    row_x = []
    for i in range(len(y2)):
        row_x.append(i)
    plt.plot(row_x, y2, label='FedSage+', ls='-.',c='#ff7f0e')

    row_x = []
    for i in range(len(y3)):
        row_x.append(i)
    plt.plot(row_x, y3, label='FedGCN(2hop)', ls='--',c='#2ca02c')

    row_x = []
    for i in range(len(y4)):
        row_x.append(i)
    plt.plot(row_x, y4, label='FedHGN with HC', ls='-', c='#1f77b4')

    plt.ylim(0, 1.8)
    plt.xlim(0, 100)
    plt.legend(loc='upper right')
    plt.ylabel('Train Loss')
    plt.xlabel('Communication Rounds')
    # plt.ylabel('故障分类准确率(%)')
    # plt.xlabel('训练迭代周期')
    plt.tick_params(axis='x', which='both', bottom=False)
    plt.rcParams['savefig.dpi'] = 300 # Image pixels
    plt.show()
