import numpy as np
import pandas as pd
import os
import matplotlib.pyplot as plt
from scipy.ndimage import gaussian_filter1d
from matplotlib import rcParams

config = {
    "font.family":'Times New Roman',  # 设置字体类型
    "axes.unicode_minus": False, #解决负号无法显示的问题
    'font.size': 14
}
rcParams.update(config)

y1=[0.29944547,0.29574861,0.29390018,0.29574861,0.29574861,0.29574861
,0.29574861,0.29759704,0.3012939,0.30868762,0.31792976,0.3271719
,0.34011091,0.35859519,0.36968577,0.38817006,0.41589649,0.44731978
,0.45656192,0.49537893,0.52865065,0.55452865,0.57116451,0.58225508
,0.59149723,0.60628466,0.61737523,0.63031423,0.64510166,0.65064695
,0.65249538,0.65249538,0.65249538,0.66173752,0.65988909,0.66543438
,0.66728281,0.66913124,0.68022181,0.68022181,0.67652495,0.68207024
,0.68022181,0.68391867,0.68946396,0.68946396,0.68761553,0.6857671
,0.6857671,0.69500924,0.69316081,0.69685767,0.69316081,0.69316081
,0.6987061,0.70055453,0.70055453,0.70425139,0.70609982,0.70609982
,0.70979667,0.70794824,0.70794824,0.70794824,0.70979667,0.70979667
,0.70979667,0.7116451,0.71534196,0.71719039,0.71534196,0.71719039
,0.71719039,0.71534196,0.71534196,0.71719039,0.71719039,0.7116451
,0.7116451,0.71534196,0.71903882,0.71719039,0.71903882,0.72088725
,0.72088725,0.71719039,0.7116451,0.71534196,0.71534196,0.71903882
,0.71534196,0.71719039,0.72088725,0.71903882,0.71534196,0.71534196
,0.71903882,0.71349353,0.7116451,0.72643253,0.7245841,0.71534196
,0.71349353,0.71719039,0.72273567,0.72643253,0.72828096,0.72088725
,0.72088725,0.72088725,0.72088725,0.72828096,0.73382625,0.73197782
,0.73197782,0.72643253,0.7245841,0.71903882,0.72088725,0.72828096
,0.73012939,0.72643253,0.72643253,0.72643253,0.72273567,0.72088725
,0.72088725,0.72273567,0.7245841,0.7245841,0.72643253,0.72828096
,0.72643253,0.73012939,0.72643253,0.72828096,0.73012939,0.73012939
,0.73012939,0.73012939,0.72643253,0.72643253,0.7245841,0.7245841
,0.72828096,0.73012939,0.72828096,0.7245841,0.72828096,0.72643253
,0.72643253,0.72643253,0.72643253,0.72643253,0.72643253,0.73012939
,0.73012939,0.72828096,0.7245841,0.7245841,0.7245841,0.73012939
,0.72828096,0.72643253,0.73012939,0.73012939,0.73012939,0.73012939
,0.72828096,0.73197782,0.73197782,0.73012939,0.73197782,0.73382625
,0.73197782,0.73012939,0.73012939,0.73012939,0.73012939,0.73012939
,0.73012939,0.72828096,0.72643253,0.72828096,0.72828096,0.72828096
,0.7245841,0.72828096,0.72643253,0.72643253,0.73197782,0.73197782
,0.73197782,0.73012939,0.73197782,0.73197782,0.73012939,0.73012939
,0.73012939,0.73012939,0.72828096,0.72828096,0.72828096,0.73197782
,0.73012939,0.73197782,0.73012939,0.73012939,0.73197782,0.72828096
,0.73012939,0.73197782,0.73012939,0.73012939,0.73197782,0.73197782
,0.73012939,0.72828096,0.72643253,0.72643253,0.72828096,0.72828096
,0.72643253,0.72828096,0.7245841,0.72643253,0.72643253,0.72643253
,0.72828096,0.73012939,0.73197782,0.73197782,0.73197782,0.73382625
,0.73197782,0.73382625,0.73382625,0.73382625,0.73382625,0.73197782
,0.73197782,0.73197782,0.73012939,0.73012939,0.73012939,0.72643253
,0.73012939,0.73197782,0.73197782,0.73197782,0.73197782,0.73012939
,0.73197782,0.73197782,0.73197782,0.73197782,0.73382625,0.73012939
,0.73012939,0.72828096,0.73012939,0.73012939,0.73012939,0.73382625
,0.73382625,0.73012939,0.73012939,0.73197782,0.73197782,0.73012939
,0.72828096,0.72828096,0.72828096,0.73012939,0.73197782,0.73197782
,0.73012939,0.73012939,0.73012939,0.73197782,0.73197782,0.73197782
,0.72828096,0.72828096,0.72828096,0.73012939,0.72828096,0.72828096
,0.72828096,0.72273567,0.72273567,0.72828096,0.73012939,0.73012939
,0.73012939,0.73012939,0.72643253,0.72828096,0.72828096,0.72828096
,0.73382625,0.73012939,0.73197782,0.73197782,0.73012939,0.73012939
,0.73012939,0.73012939,0.72828096,0.72643253,0.72828096,0.73197782
,0.73012939,0.73197782,0.72643253,0.72643253,0.73012939,0.73012939
,0.72828096,0.73012939,0.73197782,0.73197782,0.73197782,0.73012939
,0.73012939,0.73197782,0.73197782,0.73382625,0.73752311,0.73567468
,0.73567468,0.73567468,0.73382625,0.72828096,0.72828096,0.72828096
,0.73012939,0.72828096,0.73197782,0.72828096,0.72828096,0.73012939
,0.73012939,0.73012939,0.73012939,0.73012939,0.73382625,0.73382625
,0.73012939,0.73382625,0.73382625,0.73382625,0.73012939,0.73012939
,0.73012939,0.73197782,0.73012939,0.73197782,0.73382625,0.73382625
,0.73382625,0.73197782,0.73197782,0.73012939,0.73012939,0.72828096
,0.72828096,0.73382625,0.73197782,0.73012939,0.73012939,0.73012939
,0.73012939,0.73197782,0.73197782,0.73012939,0.73012939,0.73197782
,0.73197782,0.73197782,0.73197782,0.73197782,0.73382625,0.73197782
,0.73197782,0.73197782,0.73012939,0.73012939,0.73012939,0.73012939
,0.73197782,0.73382625,0.73197782,0.73012939,0.73012939,0.73197782
,0.73012939,0.73197782,0.73382625,0.73197782]

y2=[0.29499072,0.30241187,0.29684601,0.29684601,0.2987013,0.2987013
,0.2987013,0.29684601,0.29684601,0.29684601,0.30241187,0.30426716
,0.30612245,0.30426716,0.30797774,0.31168831,0.31725417,0.32282004
,0.33395176,0.33209647,0.33395176,0.33951763,0.34508349,0.34879406
,0.35435993,0.35250464,0.35064935,0.34879406,0.34879406,0.34879406
,0.35064935,0.35064935,0.34879406,0.34879406,0.34879406,0.34879406
,0.34693878,0.34693878,0.34508349,0.34508349,0.35064935,0.35064935
,0.35250464,0.35250464,0.35064935,0.35064935,0.35250464,0.35435993
,0.35250464,0.35621521,0.35250464,0.35064935,0.35064935,0.35064935
,0.35435993,0.35435993,0.35435993,0.35250464,0.35250464,0.35250464
,0.35250464,0.35250464,0.35250464,0.35621521,0.3580705,0.35992579
,0.35992579,0.3580705,0.35621521,0.3580705,0.3580705,0.35621521
,0.35621521,0.3580705,0.35992579,0.35435993,0.35435993,0.35621521
,0.35621521,0.35435993,0.35435993,0.35621521,0.35992579,0.36363636
,0.36363636,0.36363636,0.36178108,0.36734694,0.36734694,0.36549165
,0.36549165,0.36363636,0.36363636,0.36734694,0.36549165,0.36549165
,0.36363636,0.36178108,0.3580705,0.3580705,0.3580705,0.36178108
,0.36178108,0.36363636,0.36363636,0.36363636,0.36178108,0.36363636
,0.36549165,0.36734694,0.36549165,0.36363636,0.36178108,0.36178108
,0.36178108,0.36178108,0.36363636,0.36363636,0.36549165,0.36549165
,0.36920223,0.36363636,0.36363636,0.36178108,0.35992579,0.35992579
,0.36363636,0.36363636,0.36363636,0.36363636,0.36363636,0.36363636
,0.36363636,0.36363636,0.36549165,0.36549165,0.36549165,0.36363636
,0.36363636,0.36178108,0.36363636,0.36178108,0.36549165,0.36549165
,0.36549165,0.36178108,0.36363636,0.36363636,0.36178108,0.36363636
,0.36549165,0.36363636,0.36363636,0.36178108,0.36549165,0.36178108
,0.36178108,0.36178108,0.36178108,0.35992579,0.35992579,0.3580705
,0.3580705,0.35992579,0.35992579,0.36734694,0.36363636,0.36734694
,0.36920223,0.36549165,0.36549165,0.36178108,0.36178108,0.36363636
,0.36363636,0.36363636,0.36363636,0.36549165,0.36549165,0.36363636
,0.36363636,0.36363636,0.36178108,0.36363636,0.36549165,0.36549165
,0.36549165,0.36363636,0.36549165,0.37105751,0.36920223,0.36549165
,0.36363636,0.36178108,0.36363636,0.36363636,0.36363636,0.36178108
,0.36363636,0.35992579]

y3=[0.29499072,0.283859,0.2690167,0.25788497,0.25788497,0.2541744
,0.2541744,0.2541744,0.2541744,0.2541744,0.2541744,0.2541744
,0.2541744,0.2541744,0.2541744,0.2541744,0.2541744,0.25788497
,0.25788497,0.25788497,0.25788497,0.25788497,0.26345083,0.26530612
,0.2690167,0.2690167,0.27458256,0.28014842,0.28200371,0.28571429
,0.29313544,0.29684601,0.30612245,0.30797774,0.31539889,0.32096475
,0.33209647,0.33766234,0.34693878,0.34693878,0.36178108,0.36363636
,0.37662338,0.38218924,0.38404453,0.39146568,0.39703154,0.39703154
,0.40445269,0.40816327,0.41001855,0.41001855,0.41001855,0.41187384
,0.41558442,0.41929499,0.41929499,0.42115028,0.42486085,0.42857143
,0.432282,0.43413729,0.44155844,0.44155844,0.44526902,0.44341373
,0.44155844,0.44341373,0.44526902,0.44155844,0.44341373,0.44526902
,0.45083488,0.44897959,0.44897959,0.44897959,0.45083488,0.45083488
,0.44897959,0.45269017,0.45269017,0.45269017,0.45269017,0.45269017
,0.44897959,0.45083488,0.45269017,0.45083488,0.45083488,0.45083488
,0.44897959,0.44897959,0.45083488,0.45083488,0.45083488,0.45083488
,0.44897959,0.45083488,0.45083488,0.45083488,0.45083488,0.45269017
,0.45269017,0.45454545,0.45269017,0.45269017,0.45269017,0.45454545
,0.45269017,0.45269017,0.45269017,0.45269017,0.45269017,0.45269017
,0.45083488,0.45083488,0.44897959,0.45454545,0.45454545,0.45454545
,0.45269017,0.45454545,0.45269017,0.45269017,0.45454545,0.45454545
,0.45454545,0.45454545,0.45454545,0.45454545,0.45454545,0.45454545
,0.45825603,0.45640074,0.45640074,0.45640074,0.45640074,0.45640074
,0.45640074,0.46011132,0.46011132,0.46011132,0.46011132,0.4619666
,0.46011132,0.46011132,0.45825603,0.45825603,0.45825603,0.45825603
,0.46011132,0.46011132,0.45825603,0.45825603,0.46011132,0.45825603
,0.45640074,0.45454545,0.45825603,0.45640074,0.45640074,0.45454545
,0.45640074,0.45640074,0.45454545,0.45454545,0.45640074,0.45454545
,0.45454545,0.45454545,0.45640074,0.45454545,0.45269017,0.45269017
,0.45269017,0.45269017,0.45454545,0.45640074,0.45640074,0.45640074
,0.45454545,0.45454545,0.45269017,0.45269017,0.45269017,0.45269017
,0.45269017,0.45269017,0.45454545,0.45454545,0.45640074,0.45454545
,0.45640074,0.45454545,0.45454545,0.45269017,0.45083488,0.45083488
,0.45269017,0.45269017]

y4=[0.37847866,0.35064935,0.33024119,0.32096475,0.31910946,0.31725417
,0.31539889,0.31539889,0.31539889,0.31539889,0.31539889,0.31539889
,0.31725417,0.31725417,0.31910946,0.31910946,0.32096475,0.32653061
,0.32653061,0.3432282,0.36178108,0.36920223,0.39332096,0.41372913
,0.432282,0.45640074,0.46938776,0.49907236,0.51576994,0.52875696
,0.54730983,0.567718,0.57884972,0.58441558,0.60111317,0.61038961
,0.62337662,0.63265306,0.64007421,0.63821892,0.64564007,0.65120594
,0.65306122,0.65491651,0.6567718,0.66048237,0.66048237,0.66233766
,0.66233766,0.66419295,0.66604824,0.66604824,0.66790353,0.66604824
,0.6716141,0.67532468,0.67532468,0.67903525,0.67903525,0.68460111
,0.68460111,0.68460111,0.68460111,0.68460111,0.68274583,0.68089054
,0.67903525,0.67903525,0.67717996,0.67717996,0.67903525,0.67903525
,0.67903525,0.67903525,0.67903525,0.67903525,0.67903525,0.67903525
,0.67903525,0.67903525,0.67717996,0.67717996,0.67532468,0.67532468
,0.67532468,0.67717996,0.67532468,0.67717996,0.67717996,0.67717996
,0.67903525,0.67717996,0.67717996,0.67717996,0.67717996,0.67717996
,0.67903525,0.68089054,0.68460111,0.68089054,0.68089054,0.68089054
,0.68089054,0.68460111,0.67903525,0.68274583,0.6864564,0.68460111
,0.68274583,0.68274583,0.68274583,0.68274583,0.68460111,0.68460111
,0.68460111,0.68460111,0.68460111,0.6864564,0.68831169,0.6864564
,0.68460111,0.68460111,0.6864564,0.6864564,0.68460111,0.6864564
,0.68460111,0.68274583,0.6864564,0.68831169,0.69016698,0.69016698
,0.69016698,0.69202226,0.69202226,0.69387755,0.69387755,0.69573284
,0.69758813,0.69573284,0.69944341,0.69944341,0.70315399,0.7012987
,0.70500928,0.69758813,0.7012987,0.7012987,0.70315399,0.70315399
,0.70500928,0.7012987,0.70315399,0.70315399,0.7012987,0.70500928
,0.70686456,0.70686456,0.70315399,0.7012987,0.7012987,0.70315399
,0.70500928,0.70500928,0.70500928,0.70315399,0.70315399,0.70500928
,0.70500928,0.70315399,0.70500928,0.70500928,0.70500928,0.70686456
,0.70686456,0.70500928,0.70315399,0.7012987,0.7012987,0.7012987
,0.70315399,0.70500928,0.70686456,0.70686456,0.70315399,0.70315399
,0.70500928,0.70315399,0.7012987,0.7012987,0.70315399,0.7012987
,0.70315399,0.70315399,0.70315399,0.7012987,0.70315399,0.70686456
,0.70686456,0.70500928]

if __name__ == '__main__':

    # plt.rcParams['font.sans-serif'] = [u'SimSun']
    # plt.rcParams['axes.unicode_minus'] = False
    # plt.rcParams['font.size'] = 14
    row_x = []
    for i in range(len(y1)):
        row_x.append(i)
    plt.plot(row_x, y1, label='Global HGNN', ls='-')

    row_x = []
    for i in range(len(y2)):
        row_x.append(i)
    plt.plot(row_x, y2, label='Local HGNN', ls='-.')

    row_x = []
    for i in range(len(y3)):
        row_x.append(i)
    plt.plot(row_x, y3, label='FedHGN w/o HC', ls=':')

    row_x = []
    for i in range(len(y4)):
        row_x.append(i)
    plt.plot(row_x, y4, label='FedHGN with HC', ls='--')

    plt.ylim(0, 0.8)
    plt.xlim(0, 100)
    plt.legend(loc='lower right')
    plt.ylabel('Test Accuracy(%)')
    plt.xlabel('Communication Rounds')
    # plt.ylabel('故障分类准确率(%)')
    # plt.xlabel('训练迭代周期')
    plt.tick_params(axis='x', which='both', bottom=False)
    plt.rcParams['savefig.dpi'] = 300 # 图片像素
    plt.show()
